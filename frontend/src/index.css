@tailwind base;
@tailwind components;
@tailwind utilities;

/* Base styles */
:root {
  --neon-blue: #05d9e8;
  --neon-pink: #ff2a6d;
  --neon-green: #39ff14;
  --neon-purple: #d300c5;
  --dark-bg: #0a0a0f;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  font-size: 16px;
}

body {
  font-family: 'Rajdhani', sans-serif;
  background-color: var(--dark-bg);
  color: #e0e0e0;
  min-height: 100vh;
  overflow: hidden;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: #1a1a25;
}

::-webkit-scrollbar-thumb {
  background: #32324a;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #05d9e8;
}

/* Thin scrollbar for compact areas */
.scrollbar-thin::-webkit-scrollbar {
  width: 4px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background: #32324a;
  border-radius: 2px;
}

/* Custom utility classes */
@layer utilities {
  .text-glow {
    text-shadow: 0 0 10px currentColor, 0 0 20px currentColor;
  }

  .border-glow {
    box-shadow: 0 0 10px currentColor, inset 0 0 10px rgba(5, 217, 232, 0.1);
  }

  .glass {
    background: rgba(18, 18, 26, 0.95);
    border: 1px solid rgba(5, 217, 232, 0.2);
  }

  .glass-dark {
    background: rgba(10, 10, 15, 0.97);
    border: 1px solid rgba(5, 217, 232, 0.1);
  }
  
  /* Only enable blur on capable devices */
  @supports (backdrop-filter: blur(10px)) {
    @media (min-width: 1024px) and (prefers-reduced-motion: no-preference) {
      .glass-blur {
        background: rgba(18, 18, 26, 0.8);
        backdrop-filter: blur(10px);
      }
    }
  }
}

/* Grid background pattern */
.grid-bg {
  background-image: 
    linear-gradient(rgba(5, 217, 232, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(5, 217, 232, 0.03) 1px, transparent 1px);
  background-size: 50px 50px;
}

/* Scanline effect - only on devices that prefer motion */
@media (prefers-reduced-motion: no-preference) {
  .scanline::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--neon-blue), transparent);
    animation: scan 3s linear infinite;
  }

  @keyframes scan {
    0% { top: 0; opacity: 0; }
    10% { opacity: 1; }
    90% { opacity: 1; }
    100% { top: 100%; opacity: 0; }
  }
}

/* Disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Pulse animations for status indicators - simplified for performance */
@media (prefers-reduced-motion: no-preference) {
  .pulse-online {
    animation: pulseGreen 2s ease-in-out infinite;
  }

  .pulse-offline {
    animation: pulseRed 2s ease-in-out infinite;
  }

  .pulse-degraded {
    animation: pulseYellow 2s ease-in-out infinite;
  }
}

/* Static glow for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .pulse-online {
    box-shadow: 0 0 8px #39ff14;
  }
  .pulse-offline {
    box-shadow: 0 0 8px #ff2a6d;
  }
  .pulse-degraded {
    box-shadow: 0 0 8px #fffc00;
  }
}

@keyframes pulseGreen {
  0%, 100% { box-shadow: 0 0 5px #39ff14, 0 0 10px #39ff14; }
  50% { box-shadow: 0 0 15px #39ff14, 0 0 20px #39ff14; }
}

@keyframes pulseRed {
  0%, 100% { box-shadow: 0 0 5px #ff2a6d, 0 0 10px #ff2a6d; }
  50% { box-shadow: 0 0 15px #ff2a6d, 0 0 20px #ff2a6d; }
}

@keyframes pulseYellow {
  0%, 100% { box-shadow: 0 0 5px #fffc00, 0 0 10px #fffc00; }
  50% { box-shadow: 0 0 15px #fffc00, 0 0 20px #fffc00; }
}

/* Animated connection lines - only with motion preference */
@media (prefers-reduced-motion: no-preference) {
  .connection-line {
    stroke-dasharray: 10 5;
    animation: flowLine 1s linear infinite;
  }

  @keyframes flowLine {
    0% { stroke-dashoffset: 0; }
    100% { stroke-dashoffset: -15; }
  }
}

/* Static dashed line for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .connection-line {
    stroke-dasharray: 10 5;
  }
}

/* Button styles */
.btn-cyber {
  @apply relative px-6 py-2 font-display font-semibold uppercase tracking-wider;
  @apply bg-transparent border-2 border-neon-blue text-neon-blue;
  @apply transition-all duration-300 ease-out;
  @apply hover:bg-neon-blue hover:text-dark-900 hover:shadow-neon-blue;
}

.btn-cyber-danger {
  @apply relative px-6 py-2 font-display font-semibold uppercase tracking-wider;
  @apply bg-transparent border-2 border-neon-pink text-neon-pink;
  @apply transition-all duration-300 ease-out;
  @apply hover:bg-neon-pink hover:text-dark-900 hover:shadow-neon-pink;
}

/* Input styles */
.input-cyber {
  @apply w-full px-4 py-2 bg-dark-800 border border-dark-500;
  @apply text-white font-body placeholder-gray-500;
  @apply focus:outline-none focus:border-neon-blue focus:ring-1 focus:ring-neon-blue;
  @apply transition-all duration-200;
}

/* Panel styles */
.panel-cyber {
  @apply bg-dark-800/90 backdrop-blur-md border border-dark-500;
  @apply shadow-lg;
}

.panel-header {
  @apply px-4 py-3 border-b border-dark-500;
  @apply font-display text-lg font-semibold text-neon-blue uppercase tracking-wider;
}

/* Status badge */
.status-badge {
  @apply inline-flex items-center gap-1.5 px-2 py-0.5 rounded-full text-xs font-semibold uppercase;
}

.status-online {
  @apply bg-neon-green/20 text-neon-green border border-neon-green/30;
}

.status-offline {
  @apply bg-neon-pink/20 text-neon-pink border border-neon-pink/30;
}

.status-degraded {
  @apply bg-neon-yellow/20 text-neon-yellow border border-neon-yellow/30;
}

.status-unknown {
  @apply bg-gray-500/20 text-gray-400 border border-gray-500/30;
}

/* ==========================================================================
   Performance Mode Classes
   These are applied to the body element based on user settings
   ========================================================================== */

/* Animation mode: reduced - slower/simpler animations */
body.animation-reduced {
  /* Slow down all transitions */
  --animation-speed: 0.5;
}

body.animation-reduced .pulse-online,
body.animation-reduced .pulse-offline,
body.animation-reduced .pulse-degraded {
  animation-duration: 4s; /* Slower pulse */
}

body.animation-reduced .connection-line {
  animation-duration: 2s; /* Slower flow */
}

body.animation-reduced .scanline::before {
  animation-duration: 6s; /* Slower scanline */
}

/* Animation mode: off - disable all CSS animations */
body.animation-off *,
body.animation-off *::before,
body.animation-off *::after {
  animation: none !important;
  transition: none !important;
}

body.animation-off .pulse-online,
body.animation-off .pulse-offline,
body.animation-off .pulse-degraded {
  animation: none !important;
}

body.animation-off .connection-line {
  animation: none !important;
}

body.animation-off .scanline::before {
  animation: none !important;
  display: none;
}

/* Static glow for animation-off mode */
body.animation-off .pulse-online {
  box-shadow: 0 0 8px #39ff14;
}

body.animation-off .pulse-offline {
  box-shadow: 0 0 8px #ff2a6d;
}

body.animation-off .pulse-degraded {
  box-shadow: 0 0 8px #fffc00;
}

/* Glow effects disabled */
body.glow-disabled .text-glow {
  text-shadow: none !important;
}

body.glow-disabled .border-glow {
  box-shadow: none !important;
}

body.glow-disabled .pulse-online,
body.glow-disabled .pulse-offline,
body.glow-disabled .pulse-degraded {
  box-shadow: none !important;
}

/* Remove backdrop blur when glow is disabled (it's expensive) */
body.glow-disabled .glass-blur {
  backdrop-filter: none !important;
}

/* Performance indicator in header when in performance mode */
body.animation-reduced::after,
body.animation-off::after {
  content: '';
  position: fixed;
  top: 4px;
  right: 4px;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: var(--neon-purple);
  opacity: 0.5;
  pointer-events: none;
  z-index: 9999;
}

body.animation-off::after {
  background: var(--neon-pink);
}

/* Auto-performance mode - same as animation-off but with yellow indicator */
body.auto-performance-mode *,
body.auto-performance-mode *::before,
body.auto-performance-mode *::after {
  animation: none !important;
}

body.auto-performance-mode .pulse-online,
body.auto-performance-mode .pulse-offline,
body.auto-performance-mode .pulse-degraded {
  animation: none !important;
}

body.auto-performance-mode .connection-line {
  animation: none !important;
}

body.auto-performance-mode .scanline::before {
  animation: none !important;
  display: none;
}

/* Static glow for auto-performance mode */
body.auto-performance-mode .pulse-online {
  box-shadow: 0 0 8px #39ff14;
}

body.auto-performance-mode .pulse-offline {
  box-shadow: 0 0 8px #ff2a6d;
}

body.auto-performance-mode .pulse-degraded {
  box-shadow: 0 0 8px #fffc00;
}

/* Auto-performance indicator - yellow/orange */
body.auto-performance-mode::after {
  content: 'âš¡';
  position: fixed;
  top: 2px;
  right: 8px;
  font-size: 12px;
  opacity: 0.7;
  pointer-events: none;
  z-index: 9999;
}

